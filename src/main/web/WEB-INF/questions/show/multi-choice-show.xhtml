<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:f="http://xmlns.jcp.org/jsf/core">
    <!--@elvariable id="question" type="com.javainis.survey.entities.MultipleChoiceQuestion"-->
    <h:panelGrid columns="2">
        <h:selectManyCheckbox id="q#{question.position}"
                          value="#{surveyController.answers[question].choices}"
                          layout="pageDirection"
                          required="#{surveyController.checkQuestionConditions(question) and question.required and (param['survey:submit'] != null or param['survey:next'] != null)}"
                          requiredMessage="This question is required."
                          converter="omnifaces.SelectItemsConverter">
            <p:ajax event="change" update=":survey" process="@form"/>
            <f:selectItems value="#{question.choices}" var="choice" itemLabel="#{choice.text}" itemValue="#{choice}"/>
        </h:selectManyCheckbox>
        <p:message for="q#{question.position}"/>
    </h:panelGrid>
</ui:composition>


